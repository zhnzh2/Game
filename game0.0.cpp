#include<bits/stdc++.h>
#include<windows.h>
#include<conio.h>
#define qing system("cls")
#define stop system("pause")
using namespace std;
char cc[1001][1001]=
{
	{"&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&"},
	{"&S.......##........##........##........##........##........##........##........&"},
	{"&........##........##........##........##........##........##........##........&"},
	{"&........##........##........##........##........##........##........##........&"},
	{"&........##..................##................................................&"},
	{"&........##........##........##........##........##........##........##........&"},
	{"&........##........##........##........##........##........##........##........&"},
	{"&........##........##........##........##........##........##........##........&"},
	{"&###..########..########..########..######################################..###&"},
	{"&........##........##........##........##........##........##........##........&"},
	{"&........##........##........##........##........##........##........##........&"},
	{"&........##........##........##........##........##........##........##........&"},
	{"&..................##........##............................##..................&"},
	{"&........##........##........##........##........##........##........##........&"},
	{"&........##........##........##........##........##........##........##........&"},
	{"&........##........##........##........##........##........##........##........&"},
	{"&#######################..############################..########..#############&"},
	{"&........##........##........##........##........##........##........##........&"},
	{"&........##........##........##........##........##........##........##........&"},
	{"&........##........##........##........##........##........##........##........&"},
	{"&............................##..................##........##..................&"},
	{"&........##........##........##........##........##........##........##........&"},
	{"&........##........##........##........##........##........##........##........&"},
	{"&........##........##........##........##........##........##........##........&"},
	{"&###..############################..########..########..##################..###&"},
	{"&........##........##........##........##........##........##........##........&"},
	{"&........##........##........##........##........##........##........##........&"},
	{"&........##........##........##........##........##........##........##........&"},
	{"&......................................##..................##...E..............&"},
	{"&........##........##........##........##........##........##........##........&"},
	{"&........##........##........##........##........##........##........##........&"},
	{"&........##........##........##........##........##........##........##........&"},
	{"&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&"}
};
void pr(char x)
{
	if(x==-1) printf("\n");
	else if(x=='&') printf("¨€");
	else if(x=='#') printf("¡õ");
	else if(x=='E') printf("³ö");
	else if(x=='S') printf("Èë");
	else if(x==1) printf("¢Ù");
	else printf("  ");
}
int a=31,b=78,c,d,ans,x=7,y=7,flag;
void print(int x,int y)
{
	qing;
	int lx=max(0,min(x-7,a-19)),ly=max(0,min(y-7,b-19));
	for(int i=lx;i<=lx+20;++i)
	{
		for(int j=ly;j<=ly+20;++j)
		if(i==x&&j==y) pr(1); else pr(cc[i][j]);
		pr(-1);
	}
}
int main()
{
	char s;
	while(1)
	{
		int lx=x,ly=y;
		if(s=='D'||s=='d') y++;
		if(s=='A'||s=='a') y--;
		if(s=='S'||s=='s') x++;
		if(s=='W'||s=='w') x--;
		if(cc[x][y]=='#'||cc[x][y]=='&') x=lx,y=ly;
		if(cc[x][y]=='E')
		{
			qing;printf("You win!!\n");stop;
			system("start game0.1.exe");
			return 0;
		}
		print(x,y);s=getch();
	}
}
